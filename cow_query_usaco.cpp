#include <stdio.h>
using namespace std;

void setIO(string name){ // use the strings for letters
    ios_base:::sync_with_stdio(0);cin;tie(0) // add the name for the file
    freopen((name + ".in")).c_str(),"r",stdin) //read the file
    freopen((name + ".out")).c_str(),"w",stdin) // write the file
}

// int to track the variable
const int MX = 1000; // constant for MX
int =N,M,component[MX],num; // we need to track the numbers inside

// char col to pick up columns
char col[MX]; // pick up the 2 variables (M AND X)
vi adj [MX] // adj means row, vi also means character (another name)

void dfs(int x){ // int 0- > initial variavle (x)
    if(component(x) return;) // if set to x, return
    comp[x] = num;
    // look for different variables
    trv(t,adj[x]) if (col[t] == col[x] = dfs(t) // row of variables for X 
}

// main code
int main(){
    // open up the fule
    setIO("milkvisits.txt"); cin>>N>>M; // open the information at top ( line 4 )
    //string can be anything to be done with letter or numbers
    //initial is only for numbers
    string s; cin >> s;
    for(i,1,n-1) col[i] = s[i-1]; // pick up all variables for n or i
    
    for(i, N-1){
        // for loop
        int A,B; cin>>A>>B // 2 numbers (number1 is a; number2 is b)
        // we need to let program know a and b are variables so we use cin
        // .pb is to split things
        adj[A].pb(B),adj[B].pb(A) // in python is split(b)
        
    }
    for(i,1,N+1) if(!component[i]){ // if component not = to i)
        num++;
        dfs(i); // track which cow goes onto which farm
    } 
    
    for(i,M){
        int A,B; char C; cin>>A>>B>>C;// add in variable a and b numbers
        // map variables by columns;
        if (col[a] == C || component[A] != component[B] << 1;
        else cout<<0; // no changed to the code
    }
    count<<"\n"; // print the count
    return 0; // ends program
}
//123100243239022051187300678937767893774197017101001732022552180326402420220153219031102653234021901401313151210229124465667893770183200312810320632440218221101901910215281217102142182141002270228023701029632440218220324501017150021931930322303193001324221714010213218214101322802370102953244021822032450101615001732340021332220014319321421903193122182281014237010295324402182203245010140191013324400123245024203244032450242032440324502420324401000210101700219001221822810142370102962182203245010130143245010032440012324501022001310211219001221822810142370102962182203245010120161022132440001021500219001210222218161014228023701029521812324502420324400032450242032440012324502420324400032450242032440001013016324501022101210163245010143244010142190012102332370102953264121021801915010220324400010123245010212324402190003245010233237010287326812218153264120212101601410140032450150102373244021900032450102332280237010286326812218153264120222324501013324400123245010236324402190003245010234237010252241010024113102293268122181532641202223245010130141023632440219000324501023423701024514028002790241027102800141224102800241022502260227022802370236014024101022232681221815100324502420324403245024203244000324502420324403245024203244001710170141023600219001210234237010243140280027902780101326902700271028002790101523702410271028002790278010122240225022602270228023701023301232450100324400121017324400123245010236002190012102342370102432800279010182800101622801012280010192270228023701012327013102283245010032440003245010247324402190003245010234237010240270027102800279010219279010211228023703270151027932440219000324501023422802370102412800102293270121012237032701410280326414102352370102412800102283270131012237021203270141027901410235237010241280010228327014100228023703270141027902161022323701027032701310132280237032701310279021621900010221237010270327013101423703270121028002162190324501022123701027723701012327012102800214219032450102933270121014237032701210282003245024203244000324502420324400032450242032440012219032450102992270228023701029621903245010310123701029621903245010310122801029621903245010317332341510220219032450103172324403234153245010219219032450103172323416001021921903245010317132440323417324501021821903245010317132440323417102192190324501031713244032341710213323401015219032450103171324403234171003234217100219032450103171324403234225100326401031733244032341721900222312100025002510103165324403234172190022231200012324501031653244032341721900222242001232450103165324403234172190018324502420324403245024203244001824200123245010316532440323415324501002190017102103244001332450103170324403234133245010122190324502420324402420324502420324501021032450242000242032440103177219010319921903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319821903245010319832640103198328318101213181031813283001832831213171031803283120211328301317102212610102512610103104328300131021132830131710220261010251261010216317801026231780102233283001210214328301318102113178010273318412318603184121016317801023131780102203185031860102213284010000102173283013171021031840318603184121022031780102513184031860318401015318412318601022531780101231780100318503186010133178010215318412318603184121021431780101432830102203283171021031840318603184010219318412318601025031841231860318412101531840318601022531780101231780318412318603184133186010216318403186031840102133184123186010241318412318603184121021931840318603184010249328303185031860318503283010143184123186031841210223317803184123186031841231860318401003184031860318401021431841231860318412102133184031860318401024032830318503186031850328301021831841231860318412102503186010173184031860318401022431780100318403186031841231860318413318603184121021332830318503186031850328301021231841231860318412102413186010220328303185031860318503283010249318503186031850101531841231860318412102233178031841231860318412318603185010031840318603184010216318601021531840318603184010241318503186031850102213186010251328303185032830101532830318503186031850328301022331780100318503186031850100318601003184123186031841210214318503186031850102133184123186031841210240328303185032830102203185031860318501025132830101831860102253178010123186010031850318603185032830318503186031850328301021432830318503283010213328303185031860318503283010241328301022132830318503283010259318503186031850102233184031860318403185031860318503283031850328301012318601021732830102163186010266328301026032830318503283010223318403186031840328303185032830100328301012318503186031850102323185031860318501031273283010224318403186031840100328301015328303185032830102323283031850328301031523283031840328301018328301023432830103154328301051078433012634339222721337867972708079013673708485326927831092303112010224103402340712512186101012512254101013512948101005126231010135125281010135128311010145123901010125122091010173679026605121871010145126181010173243024317410340223174368802911746879028317468740278174689502981746874028017468940294173242024217324102411734570254173453024917345702691741261026117438920283174368502881743685029117438930285174180801517363702341742039023817410330229174163002161741630021717418130212174181801910